package features;

import utils.ConsoleColors;
import java.io.FileWriter;
import java.io.IOException;
import java.time.LocalDate;

public class ReportExporter {

    public static void exportDailyReport() {
        String filename = "DailyReport_" + LocalDate.now() + ".txt";

        int meals = MealManager.getMealCount();
        int calories = MealManager.getTotalCalories();
        int workouts = ExerciseManager.getWorkoutCount();
        int burned = ExerciseManager.getTotalBurnedCalories();
        double sleep = SleepTracker.getLastSleep();
        int water = WaterTracker.getWaterCount();

        try (FileWriter writer = new FileWriter(filename)) {
            writer.write("ğŸ“‹ DAILY HEALTH REPORT - " + LocalDate.now() + "\n");
            writer.write("ğŸ½ï¸ Meals: " + meals + "\n");
            writer.write("ğŸ”¥ Calories Consumed: " + calories + " kcal\n");
            writer.write("ğŸ‹ï¸ Workouts: " + workouts + "\n");
            writer.write("ğŸ”¥ Calories Burned: " + burned + " kcal\n");
            writer.write("ğŸ˜´ Sleep: " + sleep + " hours\n");
            writer.write("ğŸ’§ Water: " + water + " glasses\n");

            writer.write("âœ… Generated by Savour the Flavours of Health\n");

            System.out.println(ConsoleColors.GREEN + "ğŸ“„ Report exported to file: " + filename + ConsoleColors.RESET);

        } catch (IOException e) {
            System.out.println(ConsoleColors.RED + "âŒ Failed to export report." + ConsoleColors.RESET);
        }
    }
}
